<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Coerción de objetos | R Tutorial Example</title>
<meta name="author" content="CONAPO">
<meta name="description" content="Al igual que con los datos, cuando se intenta hacer operaciones con una estructura de datos, R intenta coercionarla al tipo apropiado para poder llevarlas a cabo con éxito. También se puede usar...">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="Chapter 6 Coerción de objetos | R Tutorial Example">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/dvillasanao/R_Tutorial/coerción-de-objetos.html">
<meta property="og:description" content="Al igual que con los datos, cuando se intenta hacer operaciones con una estructura de datos, R intenta coercionarla al tipo apropiado para poder llevarlas a cabo con éxito. También se puede usar...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Coerción de objetos | R Tutorial Example">
<meta name="twitter:description" content="Al igual que con los datos, cuando se intenta hacer operaciones con una estructura de datos, R intenta coercionarla al tipo apropiado para poder llevarlas a cabo con éxito. También se puede usar...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Tutorial Example</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introducción</a></li>
<li><a class="" href="rmarkdown-1.html"><span class="header-section-number">2</span> RMarkdown</a></li>
<li><a class="" href="chunks.html"><span class="header-section-number">3</span> Chunks</a></li>
<li><a class="" href="objetos.html"><span class="header-section-number">4</span> Tipos de variables</a></li>
<li><a class="" href="propiedades-de-los-objetos.html"><span class="header-section-number">5</span> Propiedades de los objetos</a></li>
<li><a class="active" href="coerci%C3%B3n-de-objetos.html"><span class="header-section-number">6</span> Coerción de objetos</a></li>
<li><a class="" href="tipos-de-datos.html"><span class="header-section-number">7</span> Tipos de datos</a></li>
<li><a class="" href="funbasicas.html"><span class="header-section-number">8</span> Funciones básicas de R</a></li>
<li><a class="" href="loops.html"><span class="header-section-number">9</span> Loops</a></li>
<li><a class="" href="apply-family.html"><span class="header-section-number">10</span> Apply family</a></li>
<li><a class="" href="directorio-de-trabajo.html"><span class="header-section-number">11</span> Directorio de trabajo</a></li>
<li><a class="" href="importar-y-exportar-datos.html"><span class="header-section-number">12</span> Importar y exportar datos</a></li>
<li><a class="" href="dplyr-data-manipulation.html"><span class="header-section-number">13</span> Dplyr (Data Manipulation)</a></li>
<li><a class="" href="ggplot.html"><span class="header-section-number">14</span> ggplot</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="coerción-de-objetos" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Coerción de objetos<a class="anchor" aria-label="anchor" href="#coerci%C3%B3n-de-objetos"><i class="fas fa-link"></i></a>
</h1>
<p>Al igual que con los datos, cuando se intenta hacer operaciones con una estructura de datos, R intenta coercionarla al tipo apropiado para poder llevarlas a cabo con éxito.</p>
<p>También se puede usar alguna de las funciones de la familia <code>as()</code> para coercionar de un tipo de estructura de datos. A continuación se presentan las más comunes.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Función</th>
<th>Coerciona a</th>
<th>Coerciona exitosamente a</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code></td>
<td>Vector</td>
<td>Matrices</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code></td>
<td>Matrices</td>
<td>Vectores, Data frames</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code></td>
<td>Data frame</td>
<td>Vectores, Matrices</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/list.html">as.list()</a></code></td>
<td>Lista</td>
<td>Vectores, Matrices, Data frames</td>
</tr>
</tbody>
</table></div>
<p>Como podrás ver, las estructuras de datos más sencillas, (unidimensionales, homogéneas) pueden ser coercionadas a otras más complejas (multidimensionales, heterogéneas), pero la operación inversa casi nunca es posible.</p>
<p>Veamos algunos ejemplos.</p>
<p>Se crean un vector, una matriz, un data frame y una lista.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mi_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span></span>
<span><span class="va">mi_matriz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">mi_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">"a"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="st">"b"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mi_lista</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"a"</span> <span class="op">=</span> <span class="va">mi_vector</span>, <span class="st">"b"</span> <span class="op">=</span> <span class="va">mi_matriz</span>, <span class="st">"c"</span> <span class="op">=</span> <span class="va">mi_df</span><span class="op">)</span></span></code></pre></div>
<p>Se intenta coercionar a vector con <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code>.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">mi_matriz</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">mi_df</span><span class="op">)</span></span></code></pre></div>
<pre><code>## $a
## [1] 1 2
## 
## $b
## [1] "a" "b"</code></pre>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">mi_lista</span><span class="op">)</span></span></code></pre></div>
<pre><code>## $a
## [1] "a" "b" "c"
## 
## $b
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## $c
##   a b
## 1 1 a
## 2 2 b</code></pre>
<p>La coerción que se intenta sólo tuvo éxito para una matriz. Para data frame y lista, nos devolvió los mismos objetos.</p>
<p>Nota que <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code> <strong>no devolvió un error o una advertencia a pesar de que no tuvo éxito</strong> al coercionar, en este caso un data frame o una lista. Esto es importante, pues no puedes confiar que <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code> tuvo éxito porque corrió sin errores, es necesaria una verificación adicional. Como R intenta coercionar automáticamente, esto puede producir resultados inesperados si no tenemos cuidado.</p>
<p>Intentemos coercionar a matriz con <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code>.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">mi_vector</span><span class="op">)</span></span>
<span><span class="co">##      [,1]</span></span>
<span><span class="co">## [1,] "a" </span></span>
<span><span class="co">## [2,] "b" </span></span>
<span><span class="co">## [3,] "c"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">mi_df</span><span class="op">)</span></span>
<span><span class="co">##      a   b  </span></span>
<span><span class="co">## [1,] "1" "a"</span></span>
<span><span class="co">## [2,] "2" "b"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">mi_lista</span><span class="op">)</span></span>
<span><span class="co">##   [,1]        </span></span>
<span><span class="co">## a character,3 </span></span>
<span><span class="co">## b integer,4   </span></span>
<span><span class="co">## c data.frame,2</span></span></code></pre></div>
<p>El vector fue coercionado a una matriz con una sola columna. Por su parte, al correr la función con un data frame, coercionamos también todos los datos que contiene.</p>
<p>Al coercionar una lista a una matriz, efectivamente se obtiene un objeto de este tipo, sin embargo se pierde toda la información que contiene, por lo tanto, no se puede considerar que esta es una coerción exitosa. Del mismo modo que con <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code>, no nos es mostrado ningún error ni advertencia.</p>
<p>Se intentará coercionar a matriz con <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code>.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">mi_vector</span><span class="op">)</span></span>
<span><span class="co">##   mi_vector</span></span>
<span><span class="co">## 1         a</span></span>
<span><span class="co">## 2         b</span></span>
<span><span class="co">## 3         c</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">mi_matriz</span><span class="op">)</span></span>
<span><span class="co">##   V1 V2</span></span>
<span><span class="co">## 1  1  3</span></span>
<span><span class="co">## 2  2  4</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">mi_lista</span><span class="op">)</span></span>
<span><span class="co">## Error in (function (..., row.names = NULL, check.rows = FALSE, check.names = TRUE, : arguments imply differing number of rows: 3, 2</span></span></code></pre></div>
<p>Se tuvo éxito al coercionar vectores y matrices.</p>
<p>El vector, al igual que cuando fue coercionado a matriz, devolvió como resultado un objeto con una sola columna, mientras que la matriz conservó sus renglones y columnas.</p>
<p>En este caso, al intentar la coerción de lista a data frame, se obtiene un error. Esta es la única situación en la que esto ocurre utilizando las funciones revisadas en esta sección.</p>
<p>Por último, se intentará coercionar a matriz con <code><a href="https://rdrr.io/r/base/list.html">as.list()</a></code>.</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="va">mi_vector</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] "a"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [1] "b"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## [1] "c"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="va">mi_matriz</span><span class="op">)</span></span>
<span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [1] 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## [1] 3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[4]]</span></span>
<span><span class="co">## [1] 4</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="va">mi_df</span><span class="op">)</span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1 2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $b</span></span>
<span><span class="co">## [1] "a" "b"</span></span></code></pre></div>
<p>Dado que las listas son el tipo de objeto más flexible de todos, se coerccionaron con tenido éxito en todos los casos.</p>
<p><strong>Nota.-</strong> Para los vectores y matrices, cada uno de los elementos es transformado en un elemento dentro de la lista resultante. Si se obtuviera una matriz con cuarenta y ocho celdas, obtendríamos una lista con ese mismo número de elementos.</p>
<p>En cambio, para un data frame, el resultado es una lista, en la que cada elemento contiene los datos de una columna del data frame original. Un data frame con diez columnas resultará en una lista de diez elementos.</p>
<p>Conocer cómo ocurre la coerción de estructuras de datos te ayudará a entender mejor algunos resultados devueltos por funciones de R, Además de que te facilitará la manipulación y procesamiento de datos.</p>

</div>
  <div class="chapter-nav">
<div class="prev"><a href="propiedades-de-los-objetos.html"><span class="header-section-number">5</span> Propiedades de los objetos</a></div>
<div class="next"><a href="tipos-de-datos.html"><span class="header-section-number">7</span> Tipos de datos</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li><a class="nav-link" href="#coerci%C3%B3n-de-objetos"><span class="header-section-number">6</span> Coerción de objetos</a></li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/05-Cap5.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/05-Cap5.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Tutorial Example</strong>" was written by CONAPO. It was last built on 2022-09-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
